<!DOCTYPE html>
<html>
  <head>
    <title>Chat Rooms</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        content: ["./index.html", "./src/**/*.{js,ts,jsx,tsx}"],
        theme: {
          colors: {
            darkblue: "#184B81",
            lightblue: "#279DD7",
          },
          extend: {
            screens: {
              sm: { max: "639px" },
              md: { max: "866px" },
              lg: { min: "867px", max: "1100px" },
              xl: { min: "1100px", max: "1279px" },
              "2xl": { min: "1280px", max: "1335px" },
            },
          },
        },
        darkMode: "class",
        plugins: [],
      };
    </script>
    <style>
      #homepage{
        background-image: url('../');
      }
    </style>
  </head>
  <body>
    <section
      id="background-section"
      class="flex justify-around w-screen h-screen items-center"
    >
      <div class="w-1/3 flex items-center justify-center md:hidden">
        <div class="flex gap-4 items-center">
          <img
            src="https://thumbs.dreamstime.com/b/demo-demo-icon-139882881.jpg"
            alt="logo"
            class=""
          />
          <h1 class="text-darkblue text-5xl font-bold md:text-4xl">
            CipherTalk
          </h1>
        </div>
      </div>
      <div class="flex justify-center items-center w-1/3">
        <div class="flex flex-col gap-4 items-center justify-center p-4 h-3/4">
          <h1 class="text-white text-5xl md:text-4xl">Chat Rooms</h1>
          <input
            id="room-name-input"
            class="mb-4 p-2"
            placeholder="Enter room name"
          />
          <button id="room-name-submit" class="bg-red-500 text-white p-2">
            Enter
          </button>
        </div>
      </div>
    </section>
    <script>
      async function fetchRandomImage() {
        try {
          const response = await fetch(
            "https://api.unsplash.com/photos/random?client_id=oQx5KBoaabYxtQgxuqdH8FgqBZ7Br0l7DzW6SDrV9Jk&query=chat-room"
          );
          const data = await response.json();
          console.log(data);
          const imageUrl = data.urls.full;
          document.getElementById(
            "background-section"
          ).style.backgroundImage = `url(${imageUrl})`;
          document.getElementById("background-section").style.backgroundSize =
            "cover";
        } catch (error) {
          console.error("Error fetching the image:", error);
        }
      }

      document.addEventListener("DOMContentLoaded", fetchRandomImage);

      document.querySelector("#room-name-submit").onclick = function () {
        const roomName = document.querySelector("#room-name-input").value;
        window.location.pathname = "/chat/" + roomName + "/";
      };
    </script>
  </body>
</html>
